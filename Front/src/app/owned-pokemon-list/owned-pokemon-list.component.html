<img class="background" src="/assets/backgrounds/town.webp">

<div class="main-container">
  <div class="main">
    <dx-scroll-view>
      <h1 class="title">
        Moje Pokemony
        <dx-button class="modify-button" text="Dodaj nowego Pokemona" icon="add" (click)="router.navigate(['/mypokemon/new'])"></dx-button>
      </h1>

      <dx-list
        [dataSource]="pokemonList"
        (onItemClick)="itemClick($event)"
        [searchEnabled]="true"
        searchExpr="name"
        searchMode="contains"
        nextButtonText="Załaduj więcej"
      >
        <div *dxTemplate="let item of 'item'" style="display : flex; flex-direction: column">
          <img [src]="'/assets/sprites/pokemon/' + item.number + '.png'" >
          <div style="display: flex;">
            <div style="color: #fff8; margin-right: .2rem"> {{item.ID}} </div>
            <div *ngIf="item.name" style="font-style: italic">
              {{item.name}}
            </div>
            <div *ngIf="!item.name && pokedexData !== undefined">
              {{pokedexData[item.number].name}}
            </div>
          </div>
          <div style="display: flex; flex-direction: row" *ngIf="pokedexData !== undefined">
            <app-type-label [type]="pokedexData[item.number].primary_type"></app-type-label>
            <app-type-label *ngIf="pokedexData[item.number].secondary_type" [type]="pokedexData[item.number].secondary_type!"></app-type-label>
          </div>
        </div>
      </dx-list>
    </dx-scroll-view>
  </div>

</div>

